(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{83:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(21),i=n.n(a),s=n(9),o=n.n(s),l=n(18),u=n(15),j=n(26),d=n(27),b=n(40),O=n.n(b),h="379060c8",v="https://www.omdbapi.com/",x=function(){function e(){Object(j.a)(this,e)}return Object(d.a)(e,[{key:"getMovieById",value:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.a.get("".concat(v,"?i=").concat(t,"&apikey=").concat(h)).then((function(e){return e.data})).catch((function(e){return console.error(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieByTitle",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,c=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:1,e.abrupt("return",O.a.get("".concat(v,"?s=").concat(t,"&page=").concat(n,"&apikey=").concat(h)).then((function(e){return e.data})).catch((function(e){return console.error(e)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),p=n(1),f=function(e){var t=e.id,n=Object(c.useState)(),r=Object(u.a)(n,2),a=r[0],i=r[1],s=new x;Object(c.useEffect)((function(){j(t)}),[t]);var j=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getMovieById(t);case 2:n=e.sent,i(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a?Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{src:a.Poster,alt:"".concat(a.Title," poster")}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:a.Title}),Object(p.jsxs)("span",{children:[a.Ratings[0].Value,': "N/A"']})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{children:a.Rated}),Object(p.jsx)("span",{children:a.Runtime}),Object(p.jsx)("span",{children:a.Genre})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h4",{children:"Plot"}),a.Plot]}),Object(p.jsx)("h4",{children:"Actors"}),a.Actors]})]}):Object(p.jsx)("h2",{children:"Loading..."})},m=function(e){var t=e.show,n=e.onClose,c=e.children;return t?Object(p.jsx)("div",{className:"modal fade show",id:"exampleModal",tabIndex:"-1",style:{display:"block"},children:Object(p.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-scrollable",children:Object(p.jsxs)("div",{className:"modal-content p-0",children:[Object(p.jsx)("div",{className:"modal-header",children:Object(p.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:n})}),Object(p.jsx)("div",{className:"modal-body",children:c}),Object(p.jsx)("div",{className:"modal-footer",children:Object(p.jsx)("button",{type:"button","data-bs-dismiss":"modal",onClick:n,className:"text-danger",children:"Close"})})]})})}):null},g=n(56),y=n(24),S=n(28),k=n(33),w=n(23),M=function(e){var t=e.onSearch,n=Object(c.useState)(),r=Object(u.a)(n,2),a=r[0],i=r[1];return Object(p.jsx)("div",{children:Object(p.jsx)(g.a,{onSubmit:function(e){return function(e){e.preventDefault(),t(a)}(e)},children:Object(p.jsxs)(y.a,{children:[Object(p.jsx)(k.a,{htmlFor:"title",className:"text-danger",children:"Title"}),Object(p.jsx)(S.a,{type:"text",name:"title",onChange:function(e){return i(e.target.value)}}),Object(p.jsx)(w.a,{type:"submit",disabled:!a,children:"Search"})]})})})},L=function(e){var t=e.movie,n=e.setSelectedMovie,c=e.onAddToMovieList,r=e.onDeleteClick;return Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{src:t.Poster,alt:"".concat(t.Title," poster")}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h4",{children:t.Title}),Object(p.jsx)(w.a,{"btn-primary":!0,onClick:function(){return n(t.imdbID)},children:"Show Details"}),c&&Object(p.jsx)(w.a,{"btn-success":!0,onClick:function(){return c(t.imdbID)},children:"Add Movie To My List"}),r&&Object(p.jsx)(w.a,{variant:"danger",onClick:function(){return r(t.imdbID)},children:"Remove From List"})]})]})},C=function(){function e(){Object(j.a)(this,e)}return Object(d.a)(e,[{key:"addMovieToList",value:function(e){var t=localStorage.getItem("movieList");t&&(t=JSON.parse(t)).list.push(e),t||(t={list:[e]}),localStorage.setItem("movieList",JSON.stringify(t))}},{key:"removeMovieFromList",value:function(e){var t=JSON.parse(localStorage.getItem("movieList")),n=t.list.filter((function(t){return t.imdbID!==e}));t.list=n,localStorage.setItem("movieList",JSON.stringify(t))}},{key:"getMovieList",value:function(){var e=localStorage.getItem("movieList");return e?JSON.parse(e):null}}]),e}(),N=function(e){var t,n=e.pageCount,c=e.getMoviesByPage,r=e.currentPage,a=[1,2,n-2,n-1,n],i=function(e){var t=e.page;return Object(p.jsx)("button",{"btn-primary":!0,disabled:t===r,onClick:function(){return c(t)},children:"".concat(t)})};return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{"btn-primary":!0,onClick:function(){return c(r-1)},disabled:1===r,children:"Back"}),Object(p.jsxs)("span",{children:["Page ",r]}),Object(p.jsx)("button",{"btn-primary":!0,onClick:function(){return c(r+1)},disabled:r===n,children:"Forward"})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)(i,{page:1}),Object(p.jsx)(i,{page:2}),Object(p.jsx)(i,{page:3}),r>4&&Object(p.jsx)("span",{children:"..."}),(t=!a.includes(r),t?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(i,{page:r+1}),Object(p.jsx)(i,{page:r+2}),Object(p.jsx)(i,{page:r+3})]}):null),r!==n-3&&Object(p.jsx)("span",{children:"..."}),Object(p.jsx)(i,{page:n-2}),Object(p.jsx)(i,{page:n-1}),Object(p.jsx)(i,{page:n})]})]})},T=function(){var e=new x,t=new C,n=Object(c.useState)(),r=Object(u.a)(n,2),a=r[0],i=r[1],s=Object(c.useState)(),j=Object(u.a)(s,2),d=j[0],b=j[1],O=Object(c.useState)(),h=Object(u.a)(O,2),v=h[0],g=h[1],y=Object(c.useState)(),S=Object(u.a)(y,2),k=S[0],w=S[1],T=Object(c.useState)(),I=Object(u.a)(T,2),B=I[0],D=I[1],P=function(){var e=Object(l.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.addMovieToList(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var t=Object(l.a)(o.a.mark((function t(n){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),w(n),t.next=4,e.getMovieByTitle(n);case 4:c=t.sent,console.log(c),g(Math.ceil(c.totalResults/10)),b(c.Search);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),J=function(){var t=Object(l.a)(o.a.mark((function t(n){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return D(n),t.next=3,e.getMovieByTitle(k,n);case 3:c=t.sent,b(c.Search);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsxs)("div",{children:[Object(p.jsx)(M,{onSearch:function(e){console.log("onSearch"),A(e)}}),!a&&d&&Object(p.jsxs)("div",{children:[d.map((function(e){return Object(p.jsx)(L,{movie:e,setSelectedMovie:i,onAddToMovieList:function(){return P(e)}})})),v&&Object(p.jsx)(N,{pageCount:v,getMoviesByPage:J,currentPage:B})]}),a&&Object(p.jsx)(m,{show:a,onClose:function(){return i(null)},children:Object(p.jsx)(f,{id:a})})]})},I=function(){var e=new C,t=Object(c.useState)(),n=Object(u.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(),s=Object(u.a)(i,2),j=(s[0],s[1]);Object(c.useEffect)((function(){d()}),[]);var d=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getMovieList();case 2:if(!(n=t.sent)){t.next=5;break}return t.abrupt("return",a(n.list));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(t){e.removeMovieFromList(t),d()};return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"User Movie List"}),!r&&Object(p.jsx)("p",{children:"No Movies Available"}),r&&r.map((function(e){return Object(p.jsx)(L,{movie:e,setSelectedMovie:j,onDeleteClick:b})}))]})},B=n(54),D=n(7),P=(n(83),n(35)),A=n(43),J=n(53),F=function(){return Object(p.jsx)(P.a,{bg:"warning",children:Object(p.jsxs)(J.a,{children:[Object(p.jsx)(P.a.Brand,{children:"Movie Data Base Tool"}),Object(p.jsxs)(P.a.Collapse,{children:[Object(p.jsx)(A.a.Link,{href:"/",className:"text-danger",children:"Movie Search"}),Object(p.jsx)(A.a.Link,{href:"/user-movie-list",className:"text-success",children:"my Movie List"})]})]})})};i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsxs)(B.a,{children:[Object(p.jsx)(F,{}),Object(p.jsxs)(D.c,{children:[Object(p.jsx)(D.a,{exact:!0,path:"/",component:T}),Object(p.jsx)(D.a,{exact:!0,path:"/user-movie-list",component:I})]})]})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.8f778cbb.chunk.js.map